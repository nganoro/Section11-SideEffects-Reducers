{"ast":null,"code":"import _slicedToArray from\"/Users/natnaelganoro/Documents/TechProjects/React/Section11-SideEffects&Reducers/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useReducer,useState}from'react';import Card from'../UI/Card/Card';import classes from'./Login.module.css';import Button from'../UI/Button/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emailReducer=function emailReducer(state,action){if(action.type==='USER_INPUT'){return{value:action.value,isValid:action.value.includes('@')};}if(action.type==='INPUT_BLUR'){return{value:state.value,isValid:state.value.includes('@')};}return{value:'',isValid:false};};var passwordReducer=function passwordReducer(state,action){if(action.type==='USER_INPUT'){return{value:action.value,isValid:action.value.trim().length>6};}if(action.type==='INPUT_BLUR'){return{value:state.value,isValid:state.value.trim().length>6};}return{value:'',isValid:false};};var Login=function Login(props){// const [enteredEmail, setEnteredEmail] = useState('');\n// const [emailIsValid, setEmailIsValid] = useState();\n// const [enteredPassword, setEnteredPassword] = useState('');\n// const [passwordIsValid, setPasswordIsValid] = useState();\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),formIsValid=_useState2[0],setFormIsValid=_useState2[1];var _useReducer=useReducer(emailReducer,{value:'',isValid:null}),_useReducer2=_slicedToArray(_useReducer,2),emailState=_useReducer2[0],dispatchEmail=_useReducer2[1];var _useReducer3=useReducer(passwordReducer,{value:'',isValid:null}),_useReducer4=_slicedToArray(_useReducer3,2),passwordState=_useReducer4[0],dispatchPassword=_useReducer4[1];//we are using object destructuring and assigning aliases\nvar emailIsValid=emailState.isValid;var passwordIsValid=passwordState.isValid;useEffect(function(){var indentifier=setTimeout(function(){setFormIsValid(emailIsValid&&passwordIsValid);},500);return function(){console.log('CLEANUP');clearTimeout(indentifier);};},[emailState,passwordState]);var emailChangeHandler=function emailChangeHandler(event){// setEnteredEmail(event.target.value);\ndispatchEmail({type:'USER_INPUT',value:event.target.value});// setFormIsValid(\n//   event.target.value.trim().length > 6 && emailState.isValid\n// );\n};var passwordChangeHandler=function passwordChangeHandler(event){// setEnteredPassword(event.target.value);\ndispatchPassword({type:'USER_INPUT',value:event.target.value});// setFormIsValid(\n//   event.target.value.trim().length > 6 && passwordState.isValid\n// );\n};var validateEmailHandler=function validateEmailHandler(){// setEmailIsValid(emailState.isValid);\ndispatchEmail({type:'INPUT_BLUR'});};var validatePasswordHandler=function validatePasswordHandler(){// setPasswordIsValid(enteredPassword.trim().length > 6);\ndispatchPassword({type:'INPUT_BLUR'});};var submitHandler=function submitHandler(event){event.preventDefault();props.onLogin(emailState.value,passwordState.value);};return/*#__PURE__*/_jsx(Card,{className:classes.login,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.control,\" \").concat(emailState.isValid===false?classes.invalid:''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-Mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:emailState.value,onChange:emailChangeHandler,onBlur:validateEmailHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes.control,\" \").concat(passwordState.isValid===false?classes.invalid:''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:passwordState.value,onChange:passwordChangeHandler,onBlur:validatePasswordHandler})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:classes.btn,disabled:!formIsValid,children:\"Login\"})})]})});};export default Login;","map":{"version":3,"names":["React","useEffect","useReducer","useState","Card","classes","Button","jsx","_jsx","jsxs","_jsxs","emailReducer","state","action","type","value","isValid","includes","passwordReducer","trim","length","Login","props","_useState","_useState2","_slicedToArray","formIsValid","setFormIsValid","_useReducer","_useReducer2","emailState","dispatchEmail","_useReducer3","_useReducer4","passwordState","dispatchPassword","emailIsValid","passwordIsValid","indentifier","setTimeout","console","log","clearTimeout","emailChangeHandler","event","target","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","submitHandler","preventDefault","onLogin","className","login","children","onSubmit","concat","control","invalid","htmlFor","id","onChange","onBlur","actions","btn","disabled"],"sources":["/Users/natnaelganoro/Documents/TechProjects/React/Section11-SideEffects&Reducers/src/components/Login/Login.js"],"sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\n\nconst emailReducer = (state, action) => {\n  if(action.type === 'USER_INPUT') {\n    return { value: action.value, isValid: action.value.includes('@')};\n  }\n  if(action.type === 'INPUT_BLUR'){\n    return { value: state.value, isValid: state.value.includes('@')};\n  }\n  return { value: '', isValid: false };\n};\n\nconst passwordReducer = (state, action) => {\n  if(action.type === 'USER_INPUT') {\n    return { value: action.value, isValid: action.value.trim().length > 6};\n  }\n  if(action.type === 'INPUT_BLUR'){\n    return { value: state.value, isValid: state.value.trim().length > 6};\n  }\n  return { value: '', isValid: false };\n};\n\nconst Login = (props) => {\n  // const [enteredEmail, setEnteredEmail] = useState('');\n  // const [emailIsValid, setEmailIsValid] = useState();\n  // const [enteredPassword, setEnteredPassword] = useState('');\n  // const [passwordIsValid, setPasswordIsValid] = useState();\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: '',\n    isValid: null,\n  });\n\n  const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\n    value: '',\n    isValid: null,\n  });\n\n  //we are using object destructuring and assigning aliases\n  const { isValid: emailIsValid } = emailState;\n  const {isValid: passwordIsValid } = passwordState;\n\n  useEffect(() => {\n    const indentifier = setTimeout(() => {\n      setFormIsValid(\n        emailIsValid && passwordIsValid\n      );\n    }, 500);\n\n    return () => {\n      console.log('CLEANUP');\n      clearTimeout(indentifier);\n    };\n  }, [emailState, passwordState]);\n\n  const emailChangeHandler = (event) => {\n    // setEnteredEmail(event.target.value);\n    dispatchEmail({type: 'USER_INPUT', value: event.target.value});\n\n    // setFormIsValid(\n    //   event.target.value.trim().length > 6 && emailState.isValid\n    // );\n  };\n\n  const passwordChangeHandler = (event) => {\n    // setEnteredPassword(event.target.value);\n    dispatchPassword({type: 'USER_INPUT', value: event.target.value});    \n\n    // setFormIsValid(\n    //   event.target.value.trim().length > 6 && passwordState.isValid\n    // );\n  };\n\n  const validateEmailHandler = () => {\n    // setEmailIsValid(emailState.isValid);\n    dispatchEmail({type: 'INPUT_BLUR'})\n  };\n\n  const validatePasswordHandler = () => {\n    // setPasswordIsValid(enteredPassword.trim().length > 6);\n    dispatchPassword({type: 'INPUT_BLUR'})\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    props.onLogin(emailState.value, passwordState.value);\n  };\n\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <div\n          className={`${classes.control} ${\n            emailState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"email\">E-Mail</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            value={emailState.value}\n            onChange={emailChangeHandler}\n            onBlur={validateEmailHandler}\n          />\n        </div>\n        <div\n          className={`${classes.control} ${\n            passwordState.isValid === false ? classes.invalid : ''\n          }`}\n        >\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            value={passwordState.value}\n            onChange={passwordChangeHandler}\n            onBlur={validatePasswordHandler}\n          />\n        </div>\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn} disabled={!formIsValid}>\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}